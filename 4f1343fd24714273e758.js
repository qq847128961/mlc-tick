(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{237:function(e,t,n){var content=n(264);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("76f94522",content,!0,{sourceMap:!1})},263:function(e,t,n){"use strict";n(237)},264:function(e,t,n){(t=n(17)(!1)).push([e.i,".page-company-list{padding:30px 30px 100px}.page-company-list .title{font-size:18px;font-weight:700;line-height:32px}.page-company-list .company-head{width:1200px;margin:0 auto;display:flex}.page-company-list .company-head .el-input{width:210px;margin-left:10px}.page-company-list .company-head .el-input__inner{border-radius:6px 0 0 6px}.page-company-list .company-head .el-input-group__append{padding:0 10px}.page-company-list .company-head-right{flex:1;display:flex;justify-content:flex-end}.page-company-list .company-content{width:1180px;margin:20px auto 0;padding:10px 10px 50px;background-color:#fff;border-radius:5px}.page-company-list .company-table .btn-primary{color:#1a43a9;margin:0 10px}.page-company-list .company-table .btn-primary,.page-company-list .company-table .btn-warning{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:12px;font-weight:600}.page-company-list .company-table .btn-warning{color:#ff7f5b;margin-left:10px}.page-company-list .company-foot{display:flex}.page-company-list .company-foot-total{flex:1;line-height:90px;font-size:14px;color:#999;font-weight:700}",""]),e.exports=t},281:function(e,t,n){"use strict";n.r(t);n(61),n(14),n(62),n(34);var r=n(7),o=n(3),c=n.n(o),l={asyncData:function(e){return Object(r.a)(regeneratorRuntime.mark((function t(){var n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.app,t.next=3,n.$http.get("/tick/company/selectPage",{startPage:1,pageSize:20});case 3:if(!(data=t.sent)){t.next=6;break}return t.abrupt("return",{data:c.a.get(data,"data")});case 6:case"end":return t.stop()}}),t)})))()},data:function(){return{count:100,currentPage:this.getCurrentPage(),seachName:"",isRefresh:!1}},mounted:function(){return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{getCurrentPage:function(){return c.a.get(this.$store,"state.company.list.currentPage")},onSearch:function(){this.$store.commit("company/setList",{currentPage:1}),this.getList(1,10,this.seachName)},onSee:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.$router.push({name:"company-code-detail",params:{code:c.a.get(e,"code")}})},onPage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$router.push({name:e,params:{code:c.a.get(t,"code")}})},getDate:function(e){if(!e)return"--";var t=c.a.toString(e);console.log("dateStr",t);var n=t.substring(0,4),r=t.substring(4,6),o=t.substring(6,8);return"".concat(n,"-").concat(r,"-").concat(o)},getList:function(e,t){var n=arguments,o=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var l,data;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l=n.length>2&&void 0!==n[2]?n[2]:null,o.$store.commit("company/setList",{currentPage:e}),r.next=4,o.$http.get("/tick/company/selectPage",{startPage:e,pageSize:t,name:l});case 4:(data=r.sent)&&(o.data=c.a.get(data,"data"));case 6:case"end":return r.stop()}}),r)})))()},onRefresh:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isRefresh=!0,t.next=3,e.$http.get("/company/refresh");case 3:t.sent&&(e.$msg("更新成功","success"),e.isRefresh=!1,e.getList(e.currentPage,10,e.seachName));case 5:case"end":return t.stop()}}),t)})))()}}},m=(n(263),n(13)),component=Object(m.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-company-list"},[n("div",{staticClass:"company-head"},[n("el-input",{attrs:{placeholder:"输入你要搜索的公司名"},model:{value:e.seachName,callback:function(t){e.seachName=t},expression:"seachName"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.onSearch()}},slot:"append"})],1),n("div",{staticClass:"company-head-right"},[n("el-button",{attrs:{type:"primary"},on:{click:e.onRefresh}},[e.isRefresh?n("i",{staticClass:"el-icon-loading"}):e._e(),e._v(e._s(e.isRefresh?"正在更新数据":"更新上市公司"))])],1)],1),n("div",{staticClass:"company-content"},[n("el-table",{staticClass:"company-table",staticStyle:{width:"100%"},attrs:{data:e.data.list,stripe:!0}},[n("el-table-column",{attrs:{prop:"code",label:"代码",width:"100"}}),n("el-table-column",{attrs:{prop:"name",label:"名称",width:"320",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{on:{click:function(n){return e.onSee(t.row)}}},[e._v(e._s(t.row.name))])]}}])}),n("el-table-column",{attrs:{prop:"industry",label:"行业",align:"center"}}),n("el-table-column",{attrs:{prop:"area",label:"地区",align:"center"}}),n("el-table-column",{attrs:{prop:"timeToMarket",label:"上市日期",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getDate(t.row.timeToMarket)))]}}])}),n("el-table-column",{attrs:{label:"操作",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{staticClass:"btn-primary",on:{click:function(n){return e.onPage("company-code-detail",t.row)}}},[e._v("查看")])]}}])})],1),n("div",{staticClass:"company-foot"},[n("div",{staticClass:"company-foot-total"},[e._v("共计 "+e._s(e.data.total)+" 家上市公司")]),n("el-pagination",{attrs:{layout:"prev, pager, next","current-page":e.currentPage,total:e.data.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":function(t){return e.getList(t,20,e.seachName)}}})],1)],1)])}),[],!1,null,null,null);t.default=component.exports}}]);